import{a as Fe,b as Ve,c as je}from"./chunk-4NPF7Q3C.js";import{$ as o,B as w,Ba as q,C as fe,Fa as Ce,G as W,Ga as we,H as S,Ha as Se,I as b,J as M,Ja as be,K as P,L,Q as R,Ra as ye,T as y,U as D,V as h,W as g,Xa as xe,Y as _,Z as x,Za as Oe,_ as u,_a as ke,a as se,aa as s,ab as Ee,b as ae,ba as p,c as le,ca as O,cb as Te,da as k,db as Me,e as B,ea as U,f as ce,fa as f,ga as E,gb as Re,h as de,hb as De,ib as ze,j as A,ja as H,jb as Ie,k as he,l as ue,lb as Pe,ma as c,mb as Le,na as v,o as pe,oa as me,pa as F,qa as G,ra as _e,sa as ve,u as ge,w as N,wa as Z,x as I,xa as K,ya as $,za as Y}from"./chunk-WMTPMO6I.js";import{a as re,b as oe,d as z}from"./chunk-MRJ2UCUH.js";var X=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=w({})}}return t})();var Ae=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=w({})}}return t})(),Ne=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=w({imports:[X,Ae,X,Ae]})}}return t})();var Q=class{constructor(){this.subject=new B(1),this.subscriptions=new se}doFilter(n){this.subject.next(n)}dispose(){this.subscriptions.unsubscribe()}notEmpty(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]){let r=i[n].currentValue;r!=null&&e(r)}}))}has(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]){let r=i[n].currentValue;e(r)}}))}notFirst(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]&&!i[n].isFirstChange()){let r=i[n].currentValue;e(r)}}))}notFirstAndEmpty(n,e){this.subscriptions.add(this.subject.subscribe(i=>{if(i[n]&&!i[n].isFirstChange()){let r=i[n].currentValue;r!=null&&e(r)}}))}},j=new fe("NGX_ECHARTS_CONFIG"),We=(()=>{class t{constructor(e,i,r){this.el=i,this.ngZone=r,this.options=null,this.theme=null,this.initOpts=null,this.merge=null,this.autoResize=!0,this.loading=!1,this.loadingType="default",this.loadingOpts=null,this.chartInit=new y,this.optionsError=new y,this.chartClick=this.createLazyEvent("click"),this.chartDblClick=this.createLazyEvent("dblclick"),this.chartMouseDown=this.createLazyEvent("mousedown"),this.chartMouseMove=this.createLazyEvent("mousemove"),this.chartMouseUp=this.createLazyEvent("mouseup"),this.chartMouseOver=this.createLazyEvent("mouseover"),this.chartMouseOut=this.createLazyEvent("mouseout"),this.chartGlobalOut=this.createLazyEvent("globalout"),this.chartContextMenu=this.createLazyEvent("contextmenu"),this.chartHighlight=this.createLazyEvent("highlight"),this.chartDownplay=this.createLazyEvent("downplay"),this.chartSelectChanged=this.createLazyEvent("selectchanged"),this.chartLegendSelectChanged=this.createLazyEvent("legendselectchanged"),this.chartLegendSelected=this.createLazyEvent("legendselected"),this.chartLegendUnselected=this.createLazyEvent("legendunselected"),this.chartLegendLegendSelectAll=this.createLazyEvent("legendselectall"),this.chartLegendLegendInverseSelect=this.createLazyEvent("legendinverseselect"),this.chartLegendScroll=this.createLazyEvent("legendscroll"),this.chartDataZoom=this.createLazyEvent("datazoom"),this.chartDataRangeSelected=this.createLazyEvent("datarangeselected"),this.chartGraphRoam=this.createLazyEvent("graphroam"),this.chartGeoRoam=this.createLazyEvent("georoam"),this.chartTreeRoam=this.createLazyEvent("treeroam"),this.chartTimelineChanged=this.createLazyEvent("timelinechanged"),this.chartTimelinePlayChanged=this.createLazyEvent("timelineplaychanged"),this.chartRestore=this.createLazyEvent("restore"),this.chartDataViewChanged=this.createLazyEvent("dataviewchanged"),this.chartMagicTypeChanged=this.createLazyEvent("magictypechanged"),this.chartGeoSelectChanged=this.createLazyEvent("geoselectchanged"),this.chartGeoSelected=this.createLazyEvent("geoselected"),this.chartGeoUnselected=this.createLazyEvent("geounselected"),this.chartAxisAreaSelected=this.createLazyEvent("axisareaselected"),this.chartBrush=this.createLazyEvent("brush"),this.chartBrushEnd=this.createLazyEvent("brushend"),this.chartBrushSelected=this.createLazyEvent("brushselected"),this.chartGlobalCursorTaken=this.createLazyEvent("globalcursortaken"),this.chartRendered=this.createLazyEvent("rendered"),this.chartFinished=this.createLazyEvent("finished"),this.animationFrameID=null,this.chart$=new B(1),this.resize$=new le,this.changeFilter=new Q,this.resizeObFired=!1,this.echarts=e.echarts,this.theme=e.theme||null}ngOnChanges(e){this.changeFilter.doFilter(e)}ngOnInit(){if(!window.ResizeObserver)throw new Error("please install a polyfill for ResizeObserver");this.resizeSub=this.resize$.pipe(I(100,ce,{leading:!1,trailing:!0})).subscribe(()=>this.resize()),this.autoResize&&(this.resizeOb=this.ngZone.runOutsideAngular(()=>new window.ResizeObserver(e=>{for(let i of e)i.target===this.el.nativeElement&&(this.resizeObFired?this.animationFrameID=window.requestAnimationFrame(()=>{this.resize$.next()}):this.resizeObFired=!0)})),this.resizeOb.observe(this.el.nativeElement)),this.changeFilter.notFirstAndEmpty("options",e=>this.onOptionsChange(e)),this.changeFilter.notFirstAndEmpty("merge",e=>this.setOption(e)),this.changeFilter.has("loading",e=>this.toggleLoading(!!e)),this.changeFilter.notFirst("theme",()=>this.refreshChart())}ngOnDestroy(){window.clearTimeout(this.initChartTimer),this.resizeSub&&this.resizeSub.unsubscribe(),this.animationFrameID&&window.cancelAnimationFrame(this.animationFrameID),this.resizeOb&&this.resizeOb.unobserve(this.el.nativeElement),this.loadingSub&&this.loadingSub.unsubscribe(),this.changeFilter.dispose(),this.dispose()}ngAfterViewInit(){this.initChartTimer=window.setTimeout(()=>this.initChart())}dispose(){this.chart&&(this.chart.isDisposed()||this.chart.dispose(),this.chart=null)}resize(){this.chart&&this.chart.resize()}toggleLoading(e){this.chart?e?this.chart.showLoading(this.loadingType,this.loadingOpts):this.chart.hideLoading():this.loadingSub=this.chart$.subscribe(i=>e?i.showLoading(this.loadingType,this.loadingOpts):i.hideLoading())}setOption(e,i){if(this.chart)try{this.chart.setOption(e,i)}catch(r){console.error(r),this.optionsError.emit(r)}}refreshChart(){return z(this,null,function*(){this.dispose(),yield this.initChart()})}createChart(){let e=this.el.nativeElement;if(window&&window.getComputedStyle){let i=window.getComputedStyle(e,null).getPropertyValue("height");(!i||i==="0px")&&(!e.style.height||e.style.height==="0px")&&(e.style.height="400px")}return this.ngZone.runOutsideAngular(()=>(typeof this.echarts=="function"?this.echarts:()=>Promise.resolve(this.echarts))().then(({init:r})=>r(e,this.theme,this.initOpts)))}initChart(){return z(this,null,function*(){yield this.onOptionsChange(this.options),this.merge&&this.chart&&this.setOption(this.merge)})}onOptionsChange(e){return z(this,null,function*(){e&&(this.chart?this.setOption(this.options,!0):(this.chart=yield this.createChart(),this.chart$.next(this.chart),this.chartInit.emit(this.chart),this.setOption(this.options,!0)))})}createLazyEvent(e){return this.chartInit.pipe(ge(i=>new ae(r=>(i.on(e,a=>this.ngZone.run(()=>r.next(a))),()=>{this.chart&&(this.chart.isDisposed()||i.off(e))}))))}static{this.\u0275fac=function(i){return new(i||t)(g(j),g(R),g(D))}}static{this.\u0275dir=b({type:t,selectors:[["echarts"],["","echarts",""]],inputs:{options:"options",theme:"theme",initOpts:"initOpts",merge:"merge",autoResize:"autoResize",loading:"loading",loadingType:"loadingType",loadingOpts:"loadingOpts"},outputs:{chartInit:"chartInit",optionsError:"optionsError",chartClick:"chartClick",chartDblClick:"chartDblClick",chartMouseDown:"chartMouseDown",chartMouseMove:"chartMouseMove",chartMouseUp:"chartMouseUp",chartMouseOver:"chartMouseOver",chartMouseOut:"chartMouseOut",chartGlobalOut:"chartGlobalOut",chartContextMenu:"chartContextMenu",chartHighlight:"chartHighlight",chartDownplay:"chartDownplay",chartSelectChanged:"chartSelectChanged",chartLegendSelectChanged:"chartLegendSelectChanged",chartLegendSelected:"chartLegendSelected",chartLegendUnselected:"chartLegendUnselected",chartLegendLegendSelectAll:"chartLegendLegendSelectAll",chartLegendLegendInverseSelect:"chartLegendLegendInverseSelect",chartLegendScroll:"chartLegendScroll",chartDataZoom:"chartDataZoom",chartDataRangeSelected:"chartDataRangeSelected",chartGraphRoam:"chartGraphRoam",chartGeoRoam:"chartGeoRoam",chartTreeRoam:"chartTreeRoam",chartTimelineChanged:"chartTimelineChanged",chartTimelinePlayChanged:"chartTimelinePlayChanged",chartRestore:"chartRestore",chartDataViewChanged:"chartDataViewChanged",chartMagicTypeChanged:"chartMagicTypeChanged",chartGeoSelectChanged:"chartGeoSelectChanged",chartGeoSelected:"chartGeoSelected",chartGeoUnselected:"chartGeoUnselected",chartAxisAreaSelected:"chartAxisAreaSelected",chartBrush:"chartBrush",chartBrushEnd:"chartBrushEnd",chartBrushSelected:"chartBrushSelected",chartGlobalCursorTaken:"chartGlobalCursorTaken",chartRendered:"chartRendered",chartFinished:"chartFinished"},exportAs:["echarts"],standalone:!0,features:[M]})}}return t})(),Qe=t=>({provide:j,useValue:t}),Ue=(()=>{class t{static forRoot(e){return{ngModule:t,providers:[Qe(e)]}}static forChild(){return{ngModule:t}}static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=w({})}}return t})();function et(t,n,e,i){let r=window&&!!window.document&&window.document.documentElement,a=r&&n?window:e;if(t&&(a=t&&r&&typeof t=="string"?tt(t,e.nativeElement,i):t,!a))throw new Error("ngx-infinite-scroll {resolveContainerElement()}: selector for");return a}function tt(t,n,e){return(e?window.document:n).querySelector(t)}function J(t){return t&&!t.firstChange}function it(){return typeof window<"u"}var nt={clientHeight:"clientHeight",offsetHeight:"offsetHeight",scrollHeight:"scrollHeight",pageYOffset:"pageYOffset",offsetTop:"offsetTop",scrollTop:"scrollTop",top:"top"},rt={clientHeight:"clientWidth",offsetHeight:"offsetWidth",scrollHeight:"scrollWidth",pageYOffset:"pageXOffset",offsetTop:"offsetLeft",scrollTop:"scrollLeft",top:"left"},ee=class{constructor(n=!0){this.vertical=n,this.propsMap=n?nt:rt}clientHeightKey(){return this.propsMap.clientHeight}offsetHeightKey(){return this.propsMap.offsetHeight}scrollHeightKey(){return this.propsMap.scrollHeight}pageYOffsetKey(){return this.propsMap.pageYOffset}offsetTopKey(){return this.propsMap.offsetTop}scrollTopKey(){return this.propsMap.scrollTop}topKey(){return this.propsMap.top}};function ot(t,n,e){return!!(t&&n||!e&&n)}function st({windowElement:t,axis:n}){return at({axis:n,isWindow:lt(t)},t)}function at(t,n){let e=t.isWindow||n&&!n.nativeElement?n:n.nativeElement;return oe(re({},t),{container:e})}function lt(t){return["Window","global"].some(e=>Object.prototype.toString.call(t).includes(e))}function ne(t,n){return t?n.document.documentElement:null}function He(t,n){let e=ht(n);return n.isWindow?ct(e,t,n):dt(e,t,n)}function ct(t,n,e){let{axis:i,container:r,isWindow:a}=e,{offsetHeightKey:l,clientHeightKey:d}=Ge(i),C=t+Ke(ne(a,r),i,a),m=Ze(n.nativeElement,a,l,d),T=ut(n.nativeElement,i,a)+m;return{height:t,scrolled:C,totalToScroll:T,isWindow:a}}function dt(t,n,e){let{axis:i,container:r}=e,a=r[i.scrollTopKey()],l=r[i.scrollHeightKey()];return{height:t,scrolled:a,totalToScroll:l,isWindow:!1}}function Ge(t){return{offsetHeightKey:t.offsetHeightKey(),clientHeightKey:t.clientHeightKey()}}function ht({container:t,isWindow:n,axis:e}){let{offsetHeightKey:i,clientHeightKey:r}=Ge(e);return Ze(t,n,i,r)}function Ze(t,n,e,i){if(isNaN(t[e])){let r=ne(n,t);return r?r[i]:0}else return t[e]}function ut(t,n,e){let i=n.topKey();if(t.getBoundingClientRect)return t.getBoundingClientRect()[i]+Ke(t,n,e)}function Ke(t,n,e){let i=n.pageYOffsetKey(),r=n.scrollTopKey(),a=n.offsetTopKey();return isNaN(window.pageYOffset)?ne(e,t)[r]:t.ownerDocument?t.ownerDocument.defaultView[i]:t[a]}function pt(t,n={down:0,up:0},e){let i,r;if(t.totalToScroll<=0)return!1;let a=t.isWindow?t.scrolled:t.height+t.scrolled;if(e)i=(t.totalToScroll-a)/t.totalToScroll,r=(n?.down?n.down:0)/10;else{let d=t.scrolled+(t.totalToScroll-a);i=t.scrolled/d,r=(n?.up?n.up:0)/10}return i<=r}function gt(t,n){return t<n.scrolled}function ft(t,n,e){let i=gt(t,n);return{fire:pt(n,e,i),scrollDown:i}}var te=class{constructor({totalToScroll:n}){this.lastScrollPosition=0,this.lastTotalToScroll=0,this.totalToScroll=0,this.triggered={down:0,up:0},this.totalToScroll=n}updateScrollPosition(n){return this.lastScrollPosition=n}updateTotalToScroll(n){this.lastTotalToScroll!==n&&(this.lastTotalToScroll=this.totalToScroll,this.totalToScroll=n)}updateScroll(n,e){this.updateScrollPosition(n),this.updateTotalToScroll(e)}updateTriggeredFlag(n,e){e?this.triggered.down=n:this.triggered.up=n}isTriggeredScroll(n,e){return e?this.triggered.down===n:this.triggered.up===n}};function mt(t){let{scrollContainer:n,scrollWindow:e,element:i,fromRoot:r}=t,a=st({axis:new ee(!t.horizontal),windowElement:et(n,e,i,r)}),l=new te({totalToScroll:He(i,a)}),d={container:a.container,throttle:t.throttle},C={up:t.upDistance,down:t.downDistance};return _t(d).pipe(he(()=>de(He(i,a))),A(m=>vt(l.lastScrollPosition,m,C)),N(({stats:m})=>l.updateScroll(m.scrolled,m.totalToScroll)),pe(({fire:m,scrollDown:T,stats:{totalToScroll:qe}})=>ot(t.alwaysCallback,m,l.isTriggeredScroll(qe,T))),N(({scrollDown:m,stats:{totalToScroll:T}})=>{l.updateTriggeredFlag(T,m)}),A(Ct))}function _t(t){let n=ue(t.container,"scroll");return t.throttle&&(n=n.pipe(I(t.throttle,void 0,{leading:!0,trailing:!0}))),n}function vt(t,n,e){let{scrollDown:i,fire:r}=ft(t,n,e);return{scrollDown:i,fire:r,stats:n}}var ie={DOWN:"[NGX_ISE] DOWN",UP:"[NGX_ISE] UP"};function Ct(t){let{scrollDown:n,stats:{scrolled:e}}=t;return{type:n?ie.DOWN:ie.UP,payload:{currentScrollPosition:e}}}var $e=(()=>{class t{constructor(e,i){this.element=e,this.zone=i,this.scrolled=new y,this.scrolledUp=new y,this.infiniteScrollDistance=2,this.infiniteScrollUpDistance=1.5,this.infiniteScrollThrottle=150,this.infiniteScrollDisabled=!1,this.infiniteScrollContainer=null,this.scrollWindow=!0,this.immediateCheck=!1,this.horizontal=!1,this.alwaysCallback=!1,this.fromRoot=!1}ngAfterViewInit(){this.infiniteScrollDisabled||this.setup()}ngOnChanges({infiniteScrollContainer:e,infiniteScrollDisabled:i,infiniteScrollDistance:r}){let a=J(e),l=J(i),d=J(r),C=!l&&!this.infiniteScrollDisabled||l&&!i.currentValue||d;(a||l||d)&&(this.destroyScroller(),C&&this.setup())}setup(){it()&&this.zone.runOutsideAngular(()=>{this.disposeScroller=mt({fromRoot:this.fromRoot,alwaysCallback:this.alwaysCallback,disable:this.infiniteScrollDisabled,downDistance:this.infiniteScrollDistance,element:this.element,horizontal:this.horizontal,scrollContainer:this.infiniteScrollContainer,scrollWindow:this.scrollWindow,throttle:this.infiniteScrollThrottle,upDistance:this.infiniteScrollUpDistance}).subscribe(e=>this.handleOnScroll(e))})}handleOnScroll({type:e,payload:i}){let r=e===ie.DOWN?this.scrolled:this.scrolledUp;wt(r)&&this.zone.run(()=>r.emit(i))}ngOnDestroy(){this.destroyScroller()}destroyScroller(){this.disposeScroller&&this.disposeScroller.unsubscribe()}static{this.\u0275fac=function(i){return new(i||t)(g(R),g(D))}}static{this.\u0275dir=b({type:t,selectors:[["","infiniteScroll",""],["","infinite-scroll",""],["","data-infinite-scroll",""]],inputs:{infiniteScrollDistance:"infiniteScrollDistance",infiniteScrollUpDistance:"infiniteScrollUpDistance",infiniteScrollThrottle:"infiniteScrollThrottle",infiniteScrollDisabled:"infiniteScrollDisabled",infiniteScrollContainer:"infiniteScrollContainer",scrollWindow:"scrollWindow",immediateCheck:"immediateCheck",horizontal:"horizontal",alwaysCallback:"alwaysCallback",fromRoot:"fromRoot"},outputs:{scrolled:"scrolled",scrolledUp:"scrolledUp"},features:[M]})}}return t})();function wt(t){return t.observed??t.observers.length>0}var Ye=(()=>{class t{static{this.\u0275fac=function(i){return new(i||t)}}static{this.\u0275mod=S({type:t})}static{this.\u0275inj=w({})}}return t})();var bt=["closeBtn"];function yt(t,n){if(t&1){let e=U();o(0,"tr",63)(1,"td"),c(2),s(),o(3,"td",64)(4,"span"),c(5),s()(),o(6,"td"),c(7),s(),o(8,"td"),p(9,"i",65),o(10,"span"),c(11),s()(),o(12,"td")(13,"span",66),c(14),s()(),o(15,"td")(16,"div",67)(17,"button",68),p(18,"i",69),s(),o(19,"ul",70)(20,"li",71),f("click",function(){let a=P(e).$implicit,l=E(2);return L(l.deleteTask(a==null?null:a.id))}),p(21,"i",72),o(22,"a",73),c(23,"Delete"),s()(),o(24,"li",74),f("click",function(){let a=P(e).$implicit,l=E(2);return l.isCreate=!1,L(l.editTask(a))}),p(25,"i",75),o(26,"a",76),c(27,"Edit"),s()()()()()()}if(t&2){let e=n.$implicit,i=n.index,r=E(2),a,l,d,C;h(2),v(i+1),h(3),v(e.title),h(2),v((a=r.getStatus(e.state))==null?null:a.label),h(4),v((l=r.getTag(e.category))==null?null:l.label),h(2),H("background",(d=r.getPriority(e.priority))==null?null:d.color),h(1),me(" ",(C=r.getPriority(e.priority))==null?null:C.initial," ")}}function xt(t,n){if(t&1&&(O(0),o(1,"table",58)(2,"thead",59)(3,"tr")(4,"th",60),c(5,"ID"),s(),o(6,"th",60),c(7,"Title"),s(),o(8,"th",60),c(9,"State"),s(),o(10,"th",60),c(11,"Category"),s(),o(12,"th",60),c(13,"Priority"),s(),o(14,"th",60),c(15,"Action"),s()()(),o(16,"tbody",61),_(17,yt,28,7,"tr",62),s()(),k()),t&2){let e=E();h(17),u("ngForOf",e.tableData)}}function Ot(t,n){t&1&&(O(0),o(1,"div",78)(2,"div",79),p(3,"img",80),o(4,"h3",81),c(5,"No Task"),s()()(),k())}var kt=function(t){return{background:t,width:"30px"}};function Et(t,n){t&1&&(o(0,"div",78),p(1,"div",82),s()),t&2&&(h(1),u("ngStyle",ve(1,kt,"radial-gradient(farthest-side,black 94%,#0000) top/8px 8px no-repeat,conic-gradient(#0000 30%,black)")))}function Tt(t,n){if(t&1&&(_(0,Ot,6,0,"ng-container",20),_(1,Et,2,3,"ng-template",null,77,Y)),t&2){let e=x(2),i=E();u("ngIf",(i.tableData==null?null:i.tableData.length)==0&&!i.showSpinner)("ngIfElse",e)}}function Mt(t,n){t&1&&(o(0,"div",83),c(1," Title is required. "),s())}function Rt(t,n){if(t&1&&(O(0),o(1,"option",84),c(2),s(),k()),t&2){let e=n.$implicit;h(1),u("value",e==null?null:e.value),h(1),v(e==null?null:e.label)}}function Dt(t,n){if(t&1&&(O(0),o(1,"option",84),c(2),s(),k()),t&2){let e=n.$implicit;h(1),u("value",e==null?null:e.value),h(1),v(e==null?null:e.label)}}function zt(t,n){if(t&1&&(O(0),o(1,"option",84),c(2),s(),k()),t&2){let e=n.$implicit;h(1),u("value",e==null?null:e.value),h(1),v(e==null?null:e.label)}}var It=function(){return{"width.px":"45","height.px":"45"}},wi=(()=>{class t{constructor(e,i,r,a,l){this.taskService=e,this.customStorageService=i,this.router=r,this.toast=a,this.cd=l,this.tableData=[],this.priorityArray=[{value:3,label:"URGENT",color:"#f50100",initial:"U"},{value:2,label:"HIGH",color:"#ffaa29",initial:"H"},{value:1,label:"MEDIUM",color:"#53b6ee",initial:"M"},{value:0,label:"LOW",color:"#d8d8d8",initial:"L"}],this.statusOfTask=[{value:0,label:"To Do"},{value:1,label:"Completed"},{value:2,label:"In Progress"}],this.tagOfTask=[{value:0,label:"Infrastructure"},{value:1,label:"UI/UX"},{value:2,label:"Bug Fix"},{value:3,label:"Performance"},{value:4,label:"Documentation"},{value:5,label:"Feature Request"},{value:6,label:"Other"}],this.username="",this.initial="",this.task={title:"",state:0,category:6,priority:1,desc:""},this.chartOptions={},this.selectedGroup="priority",this.copyOfTableData=[],this.isAuthenticated="",this.showSpinner=!1,this.isCreate=!1,this.selectedTaskId=""}ngOnInit(){this.isAuthenticated=this.customStorageService.getItem("isAuthenticated"),this.isAuthenticated||this.router.navigate(["/auth/login"]),this.chartOptions={},this.getAllTask(),this.initial=this.getInitials()}getAllTask(){this.tableData=[],this.showSpinner=!0,this.taskService.getTasks().subscribe(e=>{setTimeout(()=>{this.tableData=e?.result,this.copyOfTableData=JSON.parse(JSON.stringify(this.tableData)),this.groupChange(),this.showSpinner=!1,this.cd.detectChanges()},500)},e=>{this.showSpinner=!1})}getInitials(){return this.username=String(this.customStorageService.getItem("name")),this.username?this.username.split(" ").map(r=>r[0]).join("").slice(0,2).toUpperCase():""}onScroll(){}gettingLeadDataForTableViewOnScroll(){}editTask(e){this.task.title=e?.title,this.task.state=e?.state,this.task.category=e?.category,this.task.priority=e?.priority,this.task.desc=e?.desc,this.selectedTaskId=e?.id}resetTask(){this.task.title="",this.task.state=0,this.task.category=6,this.task.priority=1,this.task.desc=""}groupChange(){let e=this.groupByCount(this.selectedGroup);this.chartOptions={title:{text:`Task distribution by ${this.selectedGroup}`,left:"center"},tooltip:{trigger:"item"},legend:{bottom:10,left:"center"},series:[{name:"Tasks",type:"pie",radius:"50%",data:e,emphasis:{itemStyle:{shadowBlur:10,shadowOffsetX:0,shadowColor:"rgba(0, 0, 0, 0.5)"}}}]}}groupByCount(e){let i={};for(let r of this.tableData){let a=r[e]??"Unknown";i[a]=(i[a]||0)+1}return Object.entries(i).map(([r,a])=>{let l=parseInt(r,10),d="Unknown";return e==="priority"?d=this.getPriority(l)?.label??"Unknown":e==="state"?d=this.getStatus(l)?.label??"Unknown":e==="category"&&(d=this.getTag(l)?.label??"Unknown"),{name:d,value:a}})}searchByTitle(e){if(e==="")this.tableData=this.copyOfTableData;else{let i=e?.toLowerCase();this.tableData=this.tableData.filter(r=>r?.title?.toLowerCase().includes(i))}}logout(){this.toast.success("Logout Success"),this.customStorageService.clear(),this.router.navigate(["/auth/login"])}createOrUpdateTask(){this.isCreate?(this.taskService.createTask(this.task).subscribe(e=>{this.toast.success("Successfully Created Task"),this.getAllTask()},e=>{console.log("error",e)}),this.closeBtn.nativeElement.click()):(this.taskService.updateTask(this.task,this.selectedTaskId).subscribe(e=>{this.toast.success("Updated Task"),this.getAllTask()},e=>{console.log("error",e)}),this.closeBtn.nativeElement.click())}deleteTask(e){this.taskService.deleteTask(e).subscribe(i=>{this.tableData=this.tableData.filter(r=>r.id!=e)},i=>{console.log("error",i)})}getPriority(e){return this.priorityArray.find(i=>i.value===e)}getStatus(e){return this.statusOfTask.find(i=>i.value===e)}getTag(e){return this.tagOfTask.find(i=>i.value===e)}static{this.\u0275fac=function(i){return new(i||t)(g(je),g(Fe),g(ye),g(Ve),g(q))}}static{this.\u0275cmp=W({type:t,selectors:[["app-user"]],viewQuery:function(i,r){if(i&1&&K(bt,5),i&2){let a;Z(a=$())&&(r.closeBtn=a.first)}},standalone:!0,features:[F([{provide:j,useValue:{echarts:()=>import("./chunk-IQP3AEYU.js")}}]),G],decls:94,vars:20,consts:[[1,"gradient-container"],[1,"header-view"],[1,"d-flex","header-section"],[1,"user-name"],[1,"avatar",3,"ngStyle"],[1,"initials"],[1,"text-content",2,"color","#ffffff"],[1,"logout-new-button"],["id","quick_search_button",1,"search","search-input"],["aria-hidden","true",1,"fa","fa-search"],["placeholder","search","type","search",1,"search-input-box",3,"input"],["searchInput",""],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"create-new-item",3,"click"],["aria-hidden","true",1,"fa","fa-plus"],[1,"text-content"],["data-bs-toggle","modal","data-bs-target","#dashboardModal",1,"create-new-item"],["aria-hidden","true",1,"fa","fa-pie-chart"],[1,"logout-button",3,"click"],["aria-hidden","true",1,"fa","fa-sign-out"],["infiniteScroll","",1,"layout-body",3,"infiniteScrollDistance","infiniteScrollThrottle","scrolled"],[4,"ngIf","ngIfElse"],["showEmptyOrLoader",""],["id","exampleModal","tabindex","-1","aria-labelledby","exampleModalLabel","aria-hidden","true",1,"modal","fade"],[1,"modal-dialog","modal-dialog-centered","custom-modal-size"],[1,"modal-content"],[1,"modal-header"],["id","exampleModalLabel",1,"modal-title"],["type","button","data-bs-dismiss","modal","aria-label","Close",1,"btn-close"],["closeBtn",""],[1,"modal-body"],["taskForm","ngForm"],[1,"mb-3"],["for","taskTitle",1,"form-label"],[1,"text-danger"],["type","text","id","taskTitle","name","title","placeholder","Enter Title","required","",1,"form-control",3,"ngModel","ngModelChange"],["titleRef","ngModel"],["class","text-danger small",4,"ngIf"],["for","taskState",1,"form-label"],["id","taskState","name","state",1,"form-select",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["for","taskCategory",1,"form-label"],["id","taskCategory","name","category",1,"form-control",3,"ngModel","ngModelChange"],["for","taskPriority",1,"form-label"],["id","taskPriority","name","priority",1,"form-select",3,"ngModel","ngModelChange"],["for","description",1,"form-label"],["type","text","name","text","rows","3","placeholder","Add description",1,"form-control",3,"ngModel","ngModelChange"],[1,"modal-footer"],["type","button","data-bs-dismiss","modal",1,"btn","btn-secondary"],["type","button",1,"btn","btn-primary","create-task-button",3,"disabled","click"],["id","dashboardModal","tabindex","-1","aria-labelledby","dashLabel","aria-hidden","true",1,"modal","fade"],[1,"center-div","dash-columns"],[1,"center-div"],["for","taskCategory",1,"form-label","mb-0"],["id","groupCategory","name","groupcategory",1,"form-control","mb-0",3,"ngModel","change","ngModelChange"],["value","priority"],["value","state"],["value","category"],[1,"demo-chart",2,"height","400px","width","100%","display","flex",3,"options"],[1,"table-container"],[1,"table-header-section"],[1,"sticky-header"],[1,"table-body"],["class","display-section",4,"ngFor","ngForOf"],[1,"display-section"],[1,"title-section"],["aria-hidden","true",1,"fa","fa-tag",2,"padding-right","3px"],[1,"priority-section"],[1,"expand-task"],["type","button","data-bs-toggle","dropdown","aria-expanded","false",1,"btn"],["aria-hidden","true",1,"fa","fa-ellipsis-v"],[1,"dropdown-menu"],[1,"drop-down-li",3,"click"],["aria-hidden","true",1,"fa","fa-trash"],[1,"dropdown-item","drop-down"],["data-bs-toggle","modal","data-bs-target","#exampleModal",1,"drop-down-li",3,"click"],["aria-hidden","true",1,"fa","fa-pencil"],[1,"dropdown-item"],["showSpinnerTemp",""],[1,"d-flex",2,"justify-content","center","align-items","center","vertical-align","middle","height","885px"],[1,"empty","w-70","h-50"],["src","assets/no-data.svg",1,"w-80","h-80"],[1,"m-0","pt-4","text-center"],[1,"spinner-loader",3,"ngStyle"],[1,"text-danger","small"],[3,"value"]],template:function(i,r){if(i&1){let a=U();o(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"span",5),c(6),s()(),o(7,"h3",6),c(8),s()(),o(9,"div",7)(10,"div",8),p(11,"i",9),o(12,"input",10,11),f("input",function(){P(a);let d=x(13);return L(r.searchByTitle(d.value))}),s()(),o(14,"span",12),f("click",function(){return r.resetTask(),r.isCreate=!0}),p(15,"i",13),o(16,"span",14),c(17,"New Task"),s()(),o(18,"span",15),p(19,"i",16),o(20,"span",14),c(21,"Dashboard"),s()(),o(22,"button",17),f("click",function(){return r.logout()}),p(23,"i",18),o(24,"span",14),c(25,"Logout"),s()()()()(),o(26,"div",19),f("scrolled",function(){return r.onScroll()}),_(27,xt,18,1,"ng-container",20),_(28,Tt,3,2,"ng-template",null,21,Y),s(),o(30,"div",22)(31,"div",23)(32,"div",24)(33,"div",25)(34,"h5",26),c(35,"Create Task"),s(),p(36,"button",27,28),s(),o(38,"div",29)(39,"form",null,30)(41,"div",31)(42,"label",32),c(43,"Title "),o(44,"span",33),c(45,"*"),s()(),o(46,"input",34,35),f("ngModelChange",function(d){return r.task.title=d}),s(),_(48,Mt,2,0,"div",36),s(),o(49,"div",31)(50,"label",37),c(51,"State"),s(),o(52,"select",38),f("ngModelChange",function(d){return r.task.state=d}),_(53,Rt,3,2,"ng-container",39),s()(),o(54,"div",31)(55,"label",40),c(56,"Category"),s(),o(57,"select",41),f("ngModelChange",function(d){return r.task.category=d}),_(58,Dt,3,2,"ng-container",39),s()(),o(59,"div",31)(60,"label",42),c(61,"Priority"),s(),o(62,"select",43),f("ngModelChange",function(d){return r.task.priority=d}),_(63,zt,3,2,"ng-container",39),s()(),o(64,"div",31)(65,"label",44),c(66,"Title"),s(),o(67,"textarea",45),f("ngModelChange",function(d){return r.task.desc=d}),s()()()(),o(68,"div",46)(69,"button",47),c(70,"Cancel"),s(),o(71,"button",48),f("click",function(){return r.createOrUpdateTask()}),c(72,"Create Task"),s()()()()(),o(73,"div",49)(74,"div",23)(75,"div",24)(76,"div",25)(77,"div",50)(78,"h5",26),c(79,"Dashboard View"),s(),o(80,"div",51)(81,"span",52),c(82,"Group By"),s(),o(83,"span")(84,"select",53),f("change",function(){return r.groupChange()})("ngModelChange",function(d){return r.selectedGroup=d}),o(85,"option",54),c(86,"Priority"),s(),o(87,"option",55),c(88,"Status"),s(),o(89,"option",56),c(90,"Category"),s()()()()(),p(91,"button",27),s(),o(92,"div",29),p(93,"echarts",57),s()()()()()}if(i&2){let a=x(29),l=x(40),d=x(47);h(4),u("ngStyle",_e(19,It)),h(2),v(r.initial),h(2),v(r.username),h(18),u("infiniteScrollDistance",2)("infiniteScrollThrottle",200),h(1),u("ngIf",(r.tableData==null?null:r.tableData.length)&&!r.showSpinner)("ngIfElse",a),h(19),u("ngModel",r.task.title),h(2),u("ngIf",d.invalid&&d.touched),h(4),u("ngModel",r.task.state),h(1),u("ngForOf",r.statusOfTask),h(4),u("ngModel",r.task.category),h(1),u("ngForOf",r.tagOfTask),h(4),u("ngModel",r.task.priority),h(1),u("ngForOf",r.priorityArray),h(4),u("ngModel",r.task.desc),h(4),u("disabled",l.invalid),h(13),u("ngModel",r.selectedGroup),h(9),u("options",r.chartOptions)}},dependencies:[be,Ce,we,Se,Pe,Me,De,ze,xe,Re,Oe,ke,Ie,Te,Ee,Le,Ne,Ye,$e,Ue,We],styles:[".gradient-container[_ngcontent-%COMP%]{overflow:hidden;padding:0 10px 10px;background:linear-gradient(to right,#1B2E82,#26C5C9);height:100%}.header-view[_ngcontent-%COMP%]{height:55px;width:100%}.layout-body[_ngcontent-%COMP%]{max-height:calc(100% - 55px);border-radius:12px;background:#fff;display:flex;flex-direction:column;overflow:hidden;padding:0 10px 10px 15px;overflow-y:auto;overflow-x:auto}.header-section[_ngcontent-%COMP%]{justify-content:space-between;vertical-align:middle;align-items:center}.logout-new-button[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;vertical-align:middle;column-gap:25px}  .cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{padding:10px!important}.item-list[_ngcontent-%COMP%]{padding-bottom:5px;border-bottom:1px solid gray;padding-top:5px}.table-wrapper[_ngcontent-%COMP%]{height:320px;overflow:auto;position:relative}.sticky-header[_ngcontent-%COMP%]{position:sticky;top:0;background:#fff;z-index:2}.title-section[_ngcontent-%COMP%]{max-width:150px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}thead[_ngcontent-%COMP%]{border-bottom:1px solid gray}.table-body[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:45px}.table-header-section[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{height:50px}.layout-body[_ngcontent-%COMP%]::-webkit-scrollbar{width:5px}.layout-body[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.layout-body[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#ccc;border-radius:5px}.priority-section[_ngcontent-%COMP%]{border-radius:5px;width:35px;display:flex;height:35px;align-items:center;vertical-align:middle;justify-content:center}.display-section[_ngcontent-%COMP%]:hover   .expand-task[_ngcontent-%COMP%]{display:block;cursor:pointer}.expand-task[_ngcontent-%COMP%]{display:none}.create-new-item[_ngcontent-%COMP%]{border-radius:6px;display:flex;align-items:center;justify-content:center;background:transparent;height:34px;padding:5px;color:#fff;cursor:pointer}.create-new-item[_ngcontent-%COMP%]:hover{background-color:#00000040}.logout-button[_ngcontent-%COMP%]{border-radius:6px;display:flex;align-items:center;justify-content:center;background:#217AA6;height:34px;padding:5px;color:#fff;cursor:pointer;width:100px;border:1px solid #217AA6}.logout-button[_ngcontent-%COMP%]:hover{background:transparent;border:1px solid #ffffff}.search-input[_ngcontent-%COMP%]{border:1px solid var(--Border-Color, #CED0D5);border-radius:5px}.search[_ngcontent-%COMP%]{display:flex;position:relative;text-align:left;padding:0 8px;border-radius:4px;height:32px;align-items:center;margin-top:0!important;margin-right:10px}.search-input-box[_ngcontent-%COMP%]{background-color:transparent;border:none;outline:none;box-shadow:none;padding:4px 6px;color:inherit}.search-input-box[_ngcontent-%COMP%]:focus{outline:none;box-shadow:none;border:none}.search-input-box[_ngcontent-%COMP%]::placeholder{color:#fff}.avatar[_ngcontent-%COMP%]{border-radius:50%;background-color:#de8559;color:#333;display:flex;justify-content:center;align-items:center;font-weight:700;font-size:14px;overflow:hidden;object-fit:cover}.avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.initials[_ngcontent-%COMP%]{-webkit-user-select:none;user-select:none}.user-name[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;vertical-align:middle;padding-top:5px;column-gap:15px}.createLeadComponent[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:space-between;padding:0;height:100%;border-radius:7px;width:100%}.createLeadComponent[_ngcontent-%COMP%]   .mediumrow[_ngcontent-%COMP%]{display:flex;align-items:center;border-bottom:solid 1px #C9C9C9;border-top-left-radius:5px;border-top-right-radius:5px;height:50px;width:100%}.createLeadComponent[_ngcontent-%COMP%]   .mediumrow[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{width:100%;margin:0;align-items:center}.custom-modal-size[_ngcontent-%COMP%]{max-width:800px;width:100%}.custom-modal-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:660px}.modal-header[_ngcontent-%COMP%]{background-color:#deebf2!important}.create-task-button[_ngcontent-%COMP%]{background-color:#217aa6!important}.drop-down-li[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;vertical-align:middle}.dropdown-menu[_ngcontent-%COMP%]{padding:5px}.center-div[_ngcontent-%COMP%]{display:flex;justify-content:flex-start;align-items:center;vertical-align:middle;column-gap:10px}.text-content[_ngcontent-%COMP%]{padding-left:5px;color:#fff;max-width:425px;white-space:nowrap;text-overflow:ellipsis;overflow:hidden}.dash-columns[_ngcontent-%COMP%]{column-gap:406px!important}@media screen and (max-width: 950px){.layout-body[_ngcontent-%COMP%]{padding:10px;overflow-x:auto}.table-container[_ngcontent-%COMP%]{width:100%;overflow-x:auto}.table-container[_ngcontent-%COMP%]   table[_ngcontent-%COMP%]{width:max-content}.modal-dialog.custom-modal-size[_ngcontent-%COMP%]{margin:10px;width:auto;max-width:100%}.custom-modal-size[_ngcontent-%COMP%]   .modal-content[_ngcontent-%COMP%]{height:auto;max-height:90vh}.demo-chart[_ngcontent-%COMP%]{height:250px!important}.title-section[_ngcontent-%COMP%]{width:auto;max-width:150px}.priority-section[_ngcontent-%COMP%]{padding:5px;font-size:12px}.expand-task[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:2px 5px}.text-content[_ngcontent-%COMP%]{display:none}.search[_ngcontent-%COMP%], .search-input-box[_ngcontent-%COMP%]{width:115px}.logout-button[_ngcontent-%COMP%]{width:34px}.dash-columns[_ngcontent-%COMP%]{column-gap:1px!important}}",`.spinner-loader[_ngcontent-%COMP%] {
              aspect-ratio: 1;
              border-radius: 50%;
              -webkit-mask: radial-gradient(farthest-side, #0000 calc(100% - 8px), #000 0);
              animation: _ngcontent-%COMP%_l13 0.7s infinite linear;
            }

            @keyframes _ngcontent-%COMP%_l13 {
              100% {
                transform: rotate(1turn)
              }
            }`]})}}return t})();export{wi as RegisterComponent};
