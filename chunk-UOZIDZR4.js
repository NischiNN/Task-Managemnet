import{a as J,b as W,c as B}from"./chunk-4NPF7Q3C.js";import{$ as i,$a as q,Ea as P,G as C,Ga as U,Ha as k,Ja as M,K as u,L as _,Ra as T,V as m,W as v,Wa as E,Xa as O,Y as s,Ya as x,Z as y,Za as V,_ as a,_a as A,aa as n,ab as N,ba as g,bb as h,cb as j,db as G,ea as w,eb as R,fa as f,fb as Q,ga as d,jb as D,kb as H,lb as Y,ma as l,mb as z,qa as S,sa as b,wa as F,xa as L,ya as I}from"./chunk-WMTPMO6I.js";import"./chunk-MRJ2UCUH.js";var K=["userForm"];function X(t,p){t&1&&(i(0,"span"),l(1,"Please Login To Your Account."),n())}function Z(t,p){t&1&&(i(0,"span"),l(1,"Please Create Your Account."),n())}function $(t,p){if(t&1){let e=w();i(0,"form",14,15)(2,"div")(3,"div",16)(4,"div",17)(5,"input",18),f("ngModelChange",function(o){u(e);let c=d();return _(c.emailValue=o)}),n()()(),i(6,"div",19)(7,"div",20),g(8,"input",21),i(9,"i",22),f("click",function(){u(e);let o=d();return _(o.togglePassword())}),n()()()(),i(10,"div")(11,"div",23)(12,"div",24)(13,"div",25)(14,"button",26),f("click",function(){u(e);let o=y(1),c=d();return _(c.userLoginProcess(o.value))}),l(15,"Login"),n(),i(16,"button",27),f("click",function(){u(e);let o=d();return o.signUpForm.reset(),_(o.loadSignupForm())}),l(17,"Sign Up"),n()()()()()()}if(t&2){let e=d();m(5),a("ngModel",e.emailValue),m(3),a("type",e.passwordTypeAttribute),m(1),a("ngClass",e.passwordTypeAttribute=="password"?"far fa-eye-slash":"far fa-eye")}}function ee(t,p){t&1&&(i(0,"div"),l(1," Name is required. "),n())}function te(t,p){t&1&&(i(0,"div"),l(1," Name must be at least 3 characters long. "),n())}function ie(t,p){if(t&1&&(i(0,"div",47),s(1,ee,2,0,"div",10),s(2,te,2,0,"div",10),n()),t&2){let e=d(2);m(1),a("ngIf",e.signUpForm.get("name").errors==null?null:e.signUpForm.get("name").errors.required),m(1),a("ngIf",e.signUpForm.get("name").errors==null?null:e.signUpForm.get("name").errors.minlength)}}function ne(t,p){t&1&&(i(0,"div"),l(1," Email is required. "),n())}function oe(t,p){t&1&&(i(0,"div"),l(1," Please enter a valid email. "),n())}function re(t,p){if(t&1&&(i(0,"div",47),s(1,ne,2,0,"div",10),s(2,oe,2,0,"div",10),n()),t&2){let e=d(2);m(1),a("ngIf",e.signUpForm.get("email").errors==null?null:e.signUpForm.get("email").errors.required),m(1),a("ngIf",e.signUpForm.get("email").errors==null?null:e.signUpForm.get("email").errors.email)}}function ae(t,p){t&1&&(i(0,"div"),l(1," Password is required. "),n())}function me(t,p){t&1&&(i(0,"div"),l(1," Password must be at least 6 characters long. "),n())}function se(t,p){if(t&1&&(i(0,"div",47),s(1,ae,2,0,"div",10),s(2,me,2,0,"div",10),n()),t&2){let e=d(2);m(1),a("ngIf",e.signUpForm.get("password").errors==null?null:e.signUpForm.get("password").errors.required),m(1),a("ngIf",e.signUpForm.get("password").errors==null?null:e.signUpForm.get("password").errors.minlength)}}function le(t,p){t&1&&(i(0,"div"),l(1," Terms & conditions field is required. "),n())}function pe(t,p){if(t&1&&(i(0,"div",48),s(1,le,2,0,"div",10),n()),t&2){let e=d(2);m(1),a("ngIf",e.signUpForm.get("terms").errors==null?null:e.signUpForm.get("terms").errors.required)}}var de=function(t){return{background:t}};function ce(t,p){if(t&1){let e=w();i(0,"button",49),f("click",function(){u(e);let o=d(2);return _(o.createUser())}),l(1,"Sign Up"),n()}if(t&2){let e=d(2);a("ngStyle",b(2,de,e.signUpForm.invalid?"#92999d":"#217AA6"))("disabled",e.signUpForm.invalid)}}function ge(t,p){t&1&&(i(0,"button",50),g(1,"span",51),l(2," Loading... "),n())}function ue(t,p){if(t&1){let e=w();i(0,"form",28)(1,"div",29)(2,"div",30),g(3,"input",31),n(),s(4,ie,3,2,"div",32),i(5,"div",30),g(6,"input",33),n(),s(7,re,3,2,"div",32),i(8,"div",20),g(9,"input",34),i(10,"i",22),f("click",function(){u(e);let o=d();return _(o.togglePassword())}),n()(),s(11,se,3,2,"div",32),n(),i(12,"div",35)(13,"div",30)(14,"div",36),g(15,"input",37),l(16," \xA0"),i(17,"label",38),l(18,"I agree with terms and conditions"),n()()(),i(19,"div",30),s(20,pe,2,1,"div",39),n()(),i(21,"div",40)(22,"div",30)(23,"div",41),s(24,ce,2,4,"button",42),s(25,ge,3,0,"button",43),g(26,"div",44),i(27,"u",45),f("click",function(){u(e);let o=d();return _(o.backToLogin())}),i(28,"label",46),l(29,"Already Have An Account? Sign In."),n()()()()()()}if(t&2){let e=d();a("formGroup",e.signUpForm),m(4),a("ngIf",e.signUpForm.get("name").invalid&&(e.signUpForm.get("name").dirty||e.signUpForm.get("name").touched)),m(3),a("ngIf",e.signUpForm.get("email").invalid&&(e.signUpForm.get("email").dirty||e.signUpForm.get("email").touched)),m(2),a("type",e.passwordTypeAttribute),m(1),a("ngClass",e.passwordTypeAttribute=="password"?"far fa-eye-slash":"far fa-eye"),m(1),a("ngIf",e.signUpForm.get("password").invalid&&(e.signUpForm.get("password").dirty||e.signUpForm.get("password").touched)),m(9),a("ngIf",e.signUpForm.get("terms").invalid&&(e.signUpForm.get("terms").dirty||e.signUpForm.get("terms").touched)),m(4),a("ngIf",!e.showSpinner),m(1),a("ngIf",e.showSpinner)}}var be=(()=>{class t{constructor(e,r,o,c){this.taskService=e,this.toaster=r,this.customStorageService=o,this.router=c,this.passwordTypeAttribute="password",this.showLoginForm=!1,this.showSignupForm=!1,this.showSpinner=!1,this.isAuthenticated=""}ngOnInit(){this.isAuthenticated=this.customStorageService.getItem("isAuthenticated"),this.isAuthenticated&&this.router.navigate(["/auth/register"]),this.showLoginForm=!0,this.signUpForm=new q({name:new h("",[x.required,x.minLength(3)]),email:new h("",[x.required,x.email]),password:new h("",[x.required,x.minLength(6)]),terms:new h(!1,[x.required])})}togglePassword(){this.passwordTypeAttribute=this.passwordTypeAttribute=="text"?"password":"text"}loadSignupForm(){this.showLoginForm=!1,this.showSignupForm=!0}createUser(){if(this.signUpForm.invalid)return;let e=this.signUpForm.get("name").value,r=this.signUpForm.get("email").value,o=this.signUpForm.get("password").value;this.showSpinner=!0,this.taskService.createUser(e,r,o).subscribe(c=>{c.status==200&&(this.showSpinner=!1,this.toaster.success("Singup is completed"),this.backToLogin())},c=>{this.showSpinner=!1})}backToLogin(){this.showSignupForm=!1,this.showLoginForm=!0}userLoginProcess(e){this.taskService.userLogin(e).subscribe(r=>{r.status==200&&this.onLogin(r.result)},r=>{this.toaster.error(r?.error?.data.details)})}onLogin(e){this.customStorageService.setItem("isAuthenticated","true");let r=e.token,o=e.data;this.customStorageService.setItem("token",r),this.customStorageService.setItem("loginUserData",JSON.stringify(o)),this.customStorageService.setItem("name",o?.name),this.customStorageService.setItem("id",o?._id),this.customStorageService.setItem("email",o?.email),this.customStorageService.setItem("user_id",o?.id),this.router.navigate(["/auth/register"])}static{this.\u0275fac=function(r){return new(r||t)(v(B),v(W),v(J),v(T))}}static{this.\u0275cmp=C({type:t,selectors:[["app-login"]],viewQuery:function(r,o){if(r&1&&L(K,5),r&2){let c;F(c=I())&&(o.userForm=c.first)}},inputs:{returnUrl:"returnUrl"},standalone:!0,features:[S],decls:17,vars:4,consts:[[1,"container-fluid","px-0","h-100"],[1,"row","mx-0","h-100","w-100"],[1,"col-12","col-md-7","col-lg-7","col-xl-8","h-100","pt-lg-5","d-flex","image-section-content"],[1,"container-fluid","w-100","login-image"],["src","assets/7462235.jpg","alt","",1,"img-fluid","h-100",2,"object-fit","contain"],["id","loginForm",1,"col-12","col-md-5","col-lg-4","col-xl-3","p-md-5","p-lg-0","welcome-page-container"],[1,"container","px-0",2,"max-width","370px"],[1,"row","mt-lg-5","mx-0",2,"max-width","370px"],[1,"col-12","mt-4","text-center"],[1,"forget_link"],[4,"ngIf"],["style","max-width: 370px;",4,"ngIf"],["style","max-width: 370px;",3,"formGroup",4,"ngIf"],[1,"col","d-none","d-sm-none","d-md-none","d-lg-block"],[2,"max-width","370px"],["userForm","ngForm"],[1,"row"],[1,"col-12","mt-3","mt-md-0","mt-lg-3"],["type","text","placeholder","Email","name","email","name","email","id","email","required","",1,"input",3,"ngModel","ngModelChange"],[1,"row","mt-3","mt-md-1","mt-lg-3"],[1,"col-12","d-flex","justify-between"],["placeholder","Password","ngModel","","name","password","name","password","id","password","required","",1,"input",3,"type"],["role","button",1,"eyeIcon",3,"ngClass","click"],[1,"row","mt-4","mx-0"],[1,"col-12","px-0",2,"justify-content","center"],[2,"display","flex","column-gap","10px"],[1,"login","col-6","px-0","text-center",3,"click"],[1,"signup","col-6","text-center","px-0",3,"click"],[2,"max-width","370px",3,"formGroup"],[1,"row","mt-3","mt-md-1"],[1,"col-12"],["type","text","placeholder","Name","name","name","formControlName","name","name","name","id","name",1,"input"],["class","text text-danger mt-1 ml-3",4,"ngIf"],["type","text","placeholder","Email","name","email","formControlName","email","name","email","id","email",1,"input"],["placeholder","Password","name","password","formControlName","password","name","password","id","password",1,"input",3,"type"],[1,"row","mt-3"],[1,"forget_link","float-left"],["type","checkbox","formControlName","terms","required",""],["for",""],["class","text text-danger mt-0 ml-1",4,"ngIf"],[1,"row","mt-4"],[1,"text-center"],["class","login col-12",3,"ngStyle","disabled","click",4,"ngIf"],["class","login","type","button","disabled","",4,"ngIf"],[1,"mt-2"],[2,"font-size","12px","cursor","pointer",3,"click"],[2,"cursor","pointer"],[1,"text","text-danger","mt-1","ml-3"],[1,"text","text-danger","mt-0","ml-1"],[1,"login","col-12",3,"ngStyle","disabled","click"],["type","button","disabled","",1,"login"],["role","status","aria-hidden","true",1,"spinner-border","spinner-border-sm"]],template:function(r,o){r&1&&(i(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),g(4,"img",4),n()(),i(5,"div",5)(6,"div",6)(7,"div",7)(8,"div",8)(9,"h1"),l(10,"WELCOME"),n(),i(11,"p",9),s(12,X,2,0,"span",10),s(13,Z,2,0,"span",10),n()()(),s(14,$,18,3,"form",11),s(15,ue,30,9,"form",12),n()(),g(16,"div",13),n()()),r&2&&(m(12),a("ngIf",o.showLoginForm),m(1),a("ngIf",o.showSignupForm),m(1),a("ngIf",o.showLoginForm),m(1),a("ngIf",o.showSignupForm))},dependencies:[M,P,U,k,Y,G,O,E,V,A,D,H,j,N,z,R,Q],styles:['.container-fluid[_ngcontent-%COMP%]{padding:0!important;display:flex;justify-content:center;vertical-align:middle;height:100%;background-color:#fff;overflow:auto}@media only screen and (max-width: 360px){.login-image[_ngcontent-%COMP%]{height:336px!important}}.loginPageScreen[_ngcontent-%COMP%]{width:100vw!important;height:100vh!important;padding:0!important;margin:0!important;background-color:#fff}.loginPageScreen[_ngcontent-%COMP%]   .img-fluid[_ngcontent-%COMP%]{object-fit:contain!important}.loginHeader[_ngcontent-%COMP%]{text-align:center}#loginForm[_ngcontent-%COMP%]{background-color:#fff!important}.input[_ngcontent-%COMP%]{border:0px;border-bottom:solid 1px #edebf1;width:100%;padding:5px;margin-top:20px;outline:none}.login[_ngcontent-%COMP%]{background-color:#217aa6;cursor:pointer;border-radius:5px;border:0;padding:10px 60px;color:#fff}.signup[_ngcontent-%COMP%]{border:#217AA6 1px solid;border-radius:5px;padding:9px 50px;color:#304767}.fluid-img[_ngcontent-%COMP%]{width:100%;height:auto}.eyeIcon[_ngcontent-%COMP%]{display:flex;vertical-align:middle;align-items:center}@media only screen and (min-device-width: 768px) and (max-device-width: 991px){.login[_ngcontent-%COMP%]{padding:8px 40px}.signup[_ngcontent-%COMP%]{padding:7px 30px}}@media only screen and (min-device-width: 992px) and (max-device-width: 1366px){.login[_ngcontent-%COMP%]{padding:8px 30px}.signup[_ngcontent-%COMP%]{padding:7px 20px}}.separator[_ngcontent-%COMP%]{margin-top:15px;display:flex;align-items:center;text-align:center}.separator[_ngcontent-%COMP%]:before, .separator[_ngcontent-%COMP%]:after{content:"";flex:1;border-bottom:1px solid #ccc}.separator[_ngcontent-%COMP%]:not(:empty):before{margin-right:.25em}.separator[_ngcontent-%COMP%]:not(:empty):after{margin-left:.25em}@media only screen and (max-width: 767px){.app-body[_ngcontent-%COMP%]{margin-top:0!important}}.refresh[_ngcontent-%COMP%]{background-color:#2e4765;height:35px;width:35px;display:flex;align-items:center;justify-content:center;margin-left:6px;margin-top:6px;border:0px;border-radius:5px;cursor:pointer}.image-section-content[_ngcontent-%COMP%]{align-items:center!important;justify-content:center!important}.welcome-page-container[_ngcontent-%COMP%]{justify-content:center;display:flex;align-items:center}@media screen and (max-width: 360px){.image-section-content[_ngcontent-%COMP%], .welcome-page-container[_ngcontent-%COMP%]{height:fit-content!important}.container-fluid[_ngcontent-%COMP%]   .row[_ngcontent-%COMP%]{display:block!important}}']})}}return t})();export{be as LoginComponent};
